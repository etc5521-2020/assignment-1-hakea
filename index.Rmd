---
title: "ETC5521 Assignment 2"
subtitle: "All about Coffee"
team: Hakea
author:
  - Dang Thanh Nguyen
  - Rui Min Lin
  - (Siddhant V Tirodkar)
  - (Varsha Ujjinni Vijay Kumar)
date: "`r Sys.Date()`"
output: 
  bookdown::html_document2: 
    citation_package: biblatex
    number_sections: yes
    theme: cerulean
    toc: yes
    toc_float:
      collapsed: yes
bibliography: ref.bib
biblio-style: authoryear-comp
link-citations: yes
   

---

[This assignment is for ETC5521 Assignment 1 by Team `r rmarkdown::metadata$team` comprising of `r knitr::combine_words(rmarkdown::metadata$author)`.]{style="color:#006DAE;"}


# Introduction and motivation

People drink coffee for various reasons: Either to warm their soul in a chilling morning, or to stay awake and focus after a long, restless night. Whatever the reason is, it is clear that we love the dark, fragrance liquid. Some people loves coffee for its pleasant aroma. Some others loves its unique flavor notes. Some simply loves it because it is as black as their soul.  But most would agree that nothing is better than a cup of great coffee to start a wonderful, productive day.
 
Great coffee beans produce great coffee cup. The question is, what do we, coffee lovers, should consider when planning to buy a premium bag of the charming black beans?  Hence, in this report. We will have a journey to the place where the coffee trees were raised and the beans were harvested, to see what affects the quality of our beloved coffee.



# Data description

The data is originally observed from Coffee Quality Institute website and was scraped by [James DeLoux](https://github.com/jldbc/coffee-quality-database), the data was then re-posted on [Kaggle](https://www.kaggle.com/volpatto/coffee-quality-database-from-cqi?select=merged_data_cleaned.csv). Furthermore, it is then cleaned by [Thomas Mock](https://github.com/rfordatascience/tidytuesday/tree/master/data/2020/2020-07-07). 

## Data limitations
The cleaned data set consists of 1339 observations and 43 variables. And some potential limitations are: 

* As the number of graded coffee beans differ largely from country to country, some of the analysis will be biased. 

* For US, there are 3 areas that produce coffee beans: Mainland, Puerto Rico and Hawaii. In this research, the researchers merge all this areas together to better represent the country.

* There are outliers in data, which may require further cleaning before certain analysis can take place.

* There are different in scale system in the data. In detail, it is unclear whether the altitude of a farm was converted from meter to feet.

* Some values of the column harvest year are poorly recorded (Such as 08/09 crop, or 1t/2011). Hence, in this report, I used grading date and accept the slight time error.



Data wrangling and cleaning is crucial to produce an exploratory data analysis fluently. The original data is a data frame scraped by James LeDoux in January 2018 from the Coffee Quality Institute website which has a few missing values columns within it, so the author has cleaned the data set by removing the variables:  “view_certificate_1”, “view_certificate_2”,etc. On the other hand, there are two separate data set `raw_robusta` and `raw_arabica` originally. Thomas Mock first cleaned the variable names in both data set with function `janitor::clean_names`, and inappropriate data class is corrected using `col_double`, `col_character` etc. Variables like salt_acid, bitter_sweet, fragrance_aroma, mouthfeel, and uniform_cup is renamed to acidity, sweetness, aroma, body and uniformity respectively, to allow a better understanding for readers.

The data sets were then joined by implementing the function `bind_rows` to produce the merged data set, which is exported to a single csv file “coffee_ratings.csv” with 1339 observations and 43 variables. 

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(tidyverse)
library(kableExtra)
library(fmsb)
library(kfigr)
library(gridExtra)
library(bookdown)
library(plotly)
library(GGally)
```

```{r data, message=FALSE, warning=FALSE,include=FALSE}
# Read in with tidytuesdayR package 
# Install from CRAN via: install.packages("tidytuesdayR")

#tuesdata <- tidytuesdayR::tt_load('2020-07-07')
#tuesdata <- tidytuesdayR::tt_load(2020, week = 28)

#coffee_ratings <- tuesdata$coffee_ratings

```

```{r alternative, message=FALSE, warning=FALSE, echo=FALSE}
# If the above code renders an error, alternatively this chunk can be used to read the data!
coffee_ratings <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-07-07/coffee_ratings.csv')
```

```{r data-clean}
# Tidy the name a bit

coffee_clean <- coffee_ratings %>% 
  # Shorten the variables name
  rename(country = country_of_origin,
         total_points = total_cup_points,
         method = processing_method) %>%
  mutate(country = if_else(country == "Tanzania, United Republic Of", "Tanzania", country)) %>%
  # Shorten the name of obs
  mutate(country = recode(country, 
                          "United States" = "US",
                          "United States (Hawaii)" = "US",
                          "United States (Puerto Rico)" = "US"
                          )) %>%
  filter(total_points >20)
```

```{r}
# Check for outlier/ special cases

## Check variable country and total_points

ggplot(coffee_clean, aes(x = total_points,  y = country)) +
         geom_point()
# There is an outlier in total cup points
# There is a NA in country name. I (Thomas) performed a quick check, and it is from colombia (based on the producer). So I changed it

coffee_clean <- coffee_clean %>%
  mutate(country = replace(country, is.na(country), "Colombia"))

## Check variable altitude

# There are places where altitude > 11000m (Which is impossible, given that the highest mountain on Earth is only ~9km in height)
ggplot(coffee_clean, aes(x = total_points,  y = altitude_mean_meters)) +
         geom_point()

# Instead of filtering them away, I performed a Google fact-check.

# And find nothing (Well, from the dataset, they are at height 1901.64, but I can not confirm)
# So I detele them.
coffee_clean_height <- coffee_clean %>%
  filter(altitude_mean_meters < 9000)

# Date of harvest year
```


## Structure of data 

After this knowing what each of those variables define with respect to our topic is important so below is the description of variables included in the data set:

```{r datadesc-table}
tb <- tibble(
  Variable = c("total_cup_points","species","owner","country_of_origin", "farm_name", "lot_number", "mill", "ico_number", "company", "altitude", "region", "producer", "number_of_bags", "bag_weight", "in_country_partner", "harvest_year", "grading_date", "owner_1", "variety", "processing_method", "aroma", "flavor", "aftertaste", "acidity", "body", "balance", "uniformity", "clean_cup", "sweetness", "cupper_points", "moisture", "category_one_defects", "quakers", "color", "category_two_defects", "expiration", "certification_body", "certification_address", "certification_contact", "unit_of_measurement", "altitude_low_meters", "altitude_high_meters", "altitude_mean_meters"),
  Class = c("double","character","character","character","character","character","character","character","character","character","character","character","double","character","character","character","character","character","character","character","double","double","double","double","double","double","double","double","double","double","double","double","double","character","double","character","character","character","character","character","double","double","double"),  
  Description = c("Total rating/points (0 - 100 scale)","Species of coffee bean (arabica or robusta)","Owner of the farm","Where the bean came from","Name of the farm","Lot number of the beans tested","Mill where the beans were processed","International Coffee Organization number","Company name","Altitude - this is a messy column - I've left it for some cleaning","Region where bean came from","Producer of the roasted bean","Number of bags tested","Bag weight tested","Partner for the country","When the beans were harvested (year)","When the beans were graded","Who owns the beans","Variety of the beans","Method for processing",
"Has both fragrance (ground beans) and aroma (hot water with coffee powder)","Flavor grade","Length of positive flavor remaining after the coffee is swallowed",
"The score depends on the origin characteristics and other factors(degree of roast)","Body grade","Balance grade","Refers to the consistency of flavor . 2 points are awarded for each cup displaying this attribute, with a maximum of 10 points if all 5 cups are the same.","Refers to a lack of interfering negative impressions from first ingestion to final aftertaste","Sweetness grade","The cupper marks the intensity of the Aroma on a scale","Moisture Grade","Full black or sour bean, pod/cherry, and large or medium sticks or stones(count)","Unripened beans that are hard to identify during hand sorting and green bean inspection","Color of bean","Parchment, hull/husk, broken/chipped, insect damage, partial black or sour, shell, small sticks or stones, water damage(count)","Expiration date of the beans","Who certified it","Certification body address","Certification contact","Unit of measurement","Altitude low meters","Altitude high meters","Altitude mean meters"
))

tb1 <- tb %>%
  kable() %>%
  kable_styling(bootstrap_options = c("striped", "hover")) %>%
  scroll_box(width = "800px", height = "500px")
tb1
```


## Questions of interest

The aim of this report is to discover characteristics within best-graded coffee bean countries, and will examine from different aspects of coffee beans to explore the likely factors that influence its quality and taste.

Secondary question:

1. Which Country produces the best quality coffee beans, which regions perform better than others in the quality of the coffee beans produced, intra-country?

2. Using the regression model, explain how factors like altitude, processing method and defects affect the quality of the beans produced.

3. Which countries perform best on individual grading criteria such as aroma, acidity, sweetness etc?

4. The quality of coffee developed overtime. (NEW)

5. What is the common processing method of top-graded coffee beans, how different processing method behaves on the individual grading criteria of coffee? (NEW)



# Explatory Data Analysis

Coffee beans are harvested, produced and exported throughout almost every country in the world. This dataset contains the data of `r unique(coffee_ratings$country_of_origin)`. We will be focusing on the manufacturing and the quality aspect of the beans produced in this report. The two main variants of a coffee bean are Arabica and Robusta. Approximately 60% of coffee produced in the world is Arabica and approximately 40% is Robusta. Arabica beans consists about 0.8%-1.4% caffeine and Robusta beans  consists  of 1.7%-4% caffeine. Coffee is one of the most important cash crop in the world. [Wikipedia](https://en.wikipedia.org/wiki/Coffee_bean) 

## Which Country produces the best quality coffee beans, which regions perform better than others in the quality of the coffee beans produced, intra-country?

**Country with best coffee beans**

The Coffee Quality Institute is a non-profit organization that grades coffee samples from around the world in a consistent and professional manner.

The coffee beans are graded by the Coffee Quality Institute's trained reviewers. The total rating of a coffee bean is a cumulative sum of 10 individual quality measures: aroma, flavour, aftertaste, acidity, body, balance, uniformity, clean cup, sweetness and cupper points. Each grade is on a 0–10 scale resulting to a total cupping score between zero and one hundred. 

Figure \@ref(fig:q1) aims to address the primary question **Which country produces best quality coffee beans?**. X axis shows the country while Y axis denotes the overall rating achieved by the coffee bean. It is clear that Ethiopia produced the highest quality of coffee beans. However, it is interesting to note that there is not much variation between countries as most of them have median score of around 80-85 points. Thus, We can conclude that based on the dataset, there is not much difference in coffee quality between countries, with Ethipoia produces the highest-quality beans.

```{r q1, results='asis', fig.cap="Boxplot for total ratings of coffee beans by country"}
# Get countries that have more then 5 beans graded
temp <- coffee_clean %>% group_by(country) %>%
  summarise(count = n()) %>%
  filter(count > 5) %>% 
  pull(country) # Get the country name out as vector)


q1 <- coffee_clean %>% filter (country %in% temp) %>%
mutate(country = fct_reorder(country, total_points)) %>% 
ggplot(aes(x = country,
           y = total_points))+
  geom_boxplot()+
  coord_flip() +
  ggtitle("Total ratings of coffee bean by country ")+
  xlab("Country")+
  ylab("Total ratings")+
  theme(plot.title = element_text(hjust = 0.5))

  


ggplotly(q1)
```

**Leading regions**

We use a barplot in `r figr("regions",TRUE,type = "Figure")`. The x-axis shows the total points a coffe bean recieves and the y-axis depicts the different regions where they were produced. The bars are coloured according to the country they belong to. Evidently Guji-Hambela is a region in Ethiopia where coffee beans get consistent good ratings and is the best region to grow coffee beans.

On the other hand, the figure also indicate that out of top 10 average coffee bean rating regions, Ethiopia takes over 4 regions, which also correspond to the statement made previously that Ethiopia is the top country that produces quality coffee beans.

```{r regions, anchor = "Figure", results='asis', message=FALSE,warning=FALSE, fig.cap="Best Regions for the quality of coffee beans",echo=FALSE}

reg <- coffee_ratings %>% 
  group_by(country_of_origin,region) %>% 
  summarise(mean = mean(total_cup_points)) %>% 
  arrange(desc(mean)) %>%
  head(10)

ggplot(reg,
        aes(x = reorder(region, mean),
            y = mean,
            fill = country_of_origin)) + 
  xlab("Region") +
  ylab("Average coffee bean rating") +
  geom_col() +
  theme(axis.text.x = element_text(size = 10, angle = 90)) +
  scale_fill_discrete(name="Country of Origin")
```

**Largest Producer**

We also observe that Colombia is the largest producer of coffee beans Arabica variant with more than 40000 bags followed by Guatemala and Brazil. We establish using a bar-plot in `r figr("producer",TRUE,type = "Figure")` with y-axis representing the number of bags produced and x-axis representing different countries. The Figure shows the top-6 coffee bean producing countries.

```{r producer, anchor = "Figure", results='asis', message=FALSE, warning=FALSE, fig.cap="Largest producer country-wise",echo=FALSE}

highest_produce <- coffee_ratings %>% group_by(country_of_origin,species) %>% summarise(nob = sum(number_of_bags)) %>% arrange(desc(nob)) %>% head()

ggplot(highest_produce, 
       aes(x = reorder(country_of_origin, - nob), 
           y = nob)) + 
  geom_col(fill = "deepskyblue4") +
  labs(x = "Country", y = "Number of bags produced") +
  geom_text(label =  highest_produce$species)
```


## Using the regression model, explain how factors like altitude, processing method and defects affect the quality of the beans produced.

**Altitude v/s Quality**

In short, There is a slight, very very veryyyy small relation - Thomas

```{r alt-lrm, message=FALSE,warning=FALSE, echo=FALSE, eval = FALSE}
#incomplete code, so the chunk is set to eval = FALSE temporarily
temp <-  lm(total_points ~ altitude_mean_meters, a) %>%
broom::tidy() %>%
mutate_if(is.numeric, round, 5)
summary(temp)
temp
  round(temp$p.value,2)
  kable(caption = "Altitude v/s Quality stats") %>% 
  kable_styling(bootstrap_options = c("striped", "hover"))
```

```{r alt-plot, anchor = "Figure", results='asis', fig.cap="Regression model for Altitude", echo=FALSE,warning=FALSE,message=FALSE}
ggplot(data = coffee_clean_height, 
       aes(x = total_points, y = altitude_mean_meters)) +
  geom_point() +
  geom_smooth(method = lm)
```

```{r cor-test, eval=FALSE, warning=FALSE, message=FALSE,echo=FALSE}
#alternate verification for altitude
res <- cor.test(coffee_ratings$total_cup_points, as.numeric(coffee_ratings$altitude)) %>% broom::tidy()
res
```

**Processing Method v/s Quality**

To check if the processing method affects the quality of coffee beans produced, we have taken help of the ANOVA test as the processing method is a categorical variable. The ANOVA test returns p-values very far away from the confidence interval of 5% which can be observed when we plot the residuals against the fitted values in `r figr("one-way",TRUE,type = "Figure")` . Hence it is established that the processing methods used in producing the coffee beans does not influence the quality of beans produced.


```{r method-aov,echo=FALSE}
one.way <- aov(total_cup_points ~ processing_method , data = coffee_ratings)
summary(one.way) 
```

```{r one-way,anchor = "Figure", results='asis',fig.cap="ANOVA test for processing methods vs Quality",echo=FALSE}
plot(one.way, which = 1, col = c("blue"))
```

**Defects v/s Quality**

After the linear model for altitude turned out to be insignificant, we figured there are several other variables in the dataset that we could try fitting a model. The dataset contains category one and category two defects which are also known as primary and secondary defects and we fitted a muti-variate model using the same. The model after considering both the variables return a p-value very close to 0 and hence this model is considered a good one and as can be seen in `r figr("def-plot",TRUE,type = "Figure")` which suggest that almost all the residuals reside very close to the 0 line with a very few outliers. Thus it can be understood that defects influence the quality of coffee beans produced.

```{r def-lrm, warning=FALSE,message=FALSE,echo=FALSE}
defects <- lm(total_cup_points ~ category_one_defects + category_two_defects, coffee_ratings) 
defects %>%  broom::tidy() %>% kable(caption = "Defects linear regression model") %>% kable_styling()
```

```{r def-plot, anchor = "Figure", results='asis',echo=FALSE,warning=FALSE,message=FALSE}
d <- defects %>% broom::augment()
ggplot(d, aes(x = .fitted, y = .resid)) + geom_point() + geom_smooth()
```

## Which countries perform best on individual grading criteria such as aroma, acidity, sweetness etc?

To check which criteria the top 5 countries perform best in we have used radar charts from `r figr("Eth-radar",TRUE,type = "Figure")` onwards. A radar chart is a useful way to depict multi-variate observations. Each criteria is rated out of a total 10 points and all the 10 criteria are plotted together on the radar chart along with moisture percentage to understand how a particular country performs on individual criteria. The top-5 coffee bean producing countries according to our analysis are Ethiopia, Brazil, United States, Indonesia and Peru.


```{r mean,message=FALSE,warning=FALSE,echo=FALSE}

coffee_ratings %>% 
  filter(country_of_origin== c("Ethiopia","United States","Brazil", "Peru", "Indonesia")) %>% 
  select(aroma, flavor,aftertaste,acidity,body,balance,uniformity,clean_cup,sweetness,cupper_points, moisture, total_cup_points, country_of_origin) %>%  
  group_by(country_of_origin) %>% 
  summarise(ma = mean(aroma), mfl= mean(flavor), maf = mean(aftertaste), mac = mean(acidity), mb = mean(body),mba = mean(balance),mu = mean(uniformity), mc = mean(clean_cup), ms = mean(sweetness), mcu = mean(cupper_points), mm = mean(moisture)) %>% 
  kable(caption = "Means for different Individual grading criterias") %>% kable_styling()
```

```{r Eth-radar,anchor = "Figure", results='asis',echo=FALSE}
dataE <- data.frame(aroma = c(10,0,7.89),
                   flavor = c(10,0,8.00),
                   aftertaste = c(10,0,7.89),
                   acidity = c(10,0,8.04),
                   body = c(10,0,7.92),
                   balance = c(10,0,7.97),
                   uniformtiy = c(10,0,9.87),
                   clean_cup = c(10,0,9.95),
                   sweetness = c(10,0,9.86),
                   cupper_points = c(10,0,8.04))

Ethi <- radarchart(dataE, 
           seg = 10,
           title = "Ethiopia",
           pfcol = scales::alpha("purple", 0.3),
           plwd = 2)
```

```{r us-radar,echo=FALSE}
dataU <- data.frame(aroma = c(10,0,7.79),
                   flavor = c(10,0,7.87),
                   aftertaste = c(10,0,7.67),
                   acidity = c(10,0,7.87),
                   body = c(10,0,7.79),
                   balance = c(10,0,7.67),
                   uniformtiy = c(10,0,9.66),
                   clean_cup = c(10,0,9.66),
                   sweetness = c(10,0,8.71),
                   cupper_points = c(10,0,7.83))

US <- radarchart(dataU, 
           seg = 10,
           title = "United States",
           pfcol = scales::alpha("skyblue", 0.3),
           plwd = 2) 
```


```{r brazil-radar,echo=FALSE}
dataB <- data.frame(aroma = c(10,0,7.60),
                   flavor = c(10,0,7.54),
                   aftertaste = c(10,0,7.36),
                   acidity = c(10,0,7.46),
                   body = c(10,0,7.53),
                   balance = c(10,0,7.54),
                   uniformtiy = c(10,0,9.75),
                   clean_cup = c(10,0,9.69),
                   sweetness = c(10,0,9.93),
                   cupper_points = c(10,0,7.49))

Brazil <- radarchart(dataB, 
           seg = 10,
           title = "Brazil",
           pfcol = scales::alpha("pink", 0.3),
           plwd = 2) 
```


```{r peru-radar,echo=FALSE}
dataP <- data.frame(aroma = c(10,0,7.44),
                   flavor = c(10,0,7.33),
                   aftertaste = c(10,0,7.22),
                   acidity = c(10,0,7.38),
                   body = c(10,0,7.53),
                   balance = c(10,0,7.44),
                   uniformtiy = c(10,0,9.77),
                   clean_cup = c(10,0,10.00),
                   sweetness = c(10,0,10.00),
                   cupper_points = c(10,0,8.14))

Peru <- radarchart(dataP, 
           seg = 10,
           title = "Peru",
           pfcol = scales::alpha("tomato", 0.3),
           plwd = 2) 
```


```{r indo-radar,anchor = "Figure", results='asis',echo=FALSE}
dataI <- data.frame(aroma = c(10,0,7.68),
                   flavor = c(10,0,7.41),
                   aftertaste = c(10,0,7.20),
                   acidity = c(10,0,7.21),
                   body = c(10,0,7.60),
                   balance = c(10,0,7.23),
                   uniformtiy = c(10,0,9.86),
                   clean_cup = c(10,0,10.00),
                   sweetness = c(10,0,9.86),
                   cupper_points = c(10,0,7.26))


Indo <- radarchart(dataI,
           seg = 10,
           title = "Indonesia",
           pfcol = scales::alpha("gold", 0.3),
           plwd = 2)
```

After looking at these plots, the conclusion drawn are as follows: The common characteristics that these top 5 countries have are the consistent higher values of *uniformity* and *clean cup*. Among all these countries, it can be seen that the country **Ethiopia** has the highest values for all the different characteristics that we have proven to have a significant affect on the quality of the coffee beans in the above sections. It is also interesting how the *sweetness* has a perfect score of 10 in all other countries other than *United States* as depicted.


## The quality of coffee developed overtime. (NEW)



## What is the common processing method of top-graded coffee beans, how different processing method behaves on the individual grading criteria of coffee? (NEW)

**Processing Method amongst best-graded coffee beans**

```{r q5p1, results='asis', fig.cap="Common processing method of top 30 coffee beans by country"}

pro_md <- coffee_clean %>%
  dplyr::select(total_points, species, country, region, owner, method, aroma:cupper_points) %>%
  dplyr::filter(!is.na(method))

topbean <- pro_md %>%
  group_by(country) %>%
  arrange(desc(total_points)) %>%
  head(30)

q5p1 <- topbean %>%
  ggplot(aes(method, fill = method)) +
  geom_bar() +
  facet_wrap(~country, ncol = 3) +
  theme(axis.text.x=element_blank(),
        axis.ticks.x=element_blank()) +
  scale_fill_discrete(name="Processing Method") +
  ylab("Frequency") +
  xlab("Processing Method") +
  ggtitle("Common processing method of top 30 coffee beans")

ggplotly(q5p1)

```

```{r q5table}
pmtable <- topbean %>%
  ungroup(country) %>%
  dplyr::select(method) %>%
  count(method)

pmtable %>%
  kable(col.names = c("Processing Method", "Frequency")) %>%
  kable_styling(bootstrap_options = c("striped", "hover"),
                full_width = F)
  
```

The barchart \@ref(fig:q5p1) demonstrates the frequency of processing method in top 30 coffee bean producers, we discovered that the producers in most countries is using washed/wet method to produce coffee beans, followed by natural/dry method. In addition, majority of coffee bean producers in Ethiopia, the country that produces highest quality coffee beans, is using the natural/dry method. This is explained by @Jori-Korhonen, "The natural process is common in regions where there is no access to water such as Ethiopia and some regions in Brazil."


**Behaviour of different processing method on the individual grading criteria of coffee**

We picked 6 grading criteria, according to the coffee scoring article provided on [mycuppa](https://www.mycuppa.com.au/scoring-coffee):

* Aroma
* Aftertaste
* Flavour
* Acidity
* Body
* Balance

```{r q5p2, results='asis', fig.cap="Scatterplot matrix of grading criterias, differentiated by processing method"}
grading <- pro_md %>%
  dplyr::filter(method %in% c("Natural / Dry", 
                              "Pulped natural / honey",
                              "Semi-washed / Semi-pulped", 
                              "Washed / Wet")) %>%
  dplyr::select(method, aroma, aftertaste, 
                flavor, acidity, body, balance) %>%
  na.omit()

q5p2 <- grading %>%
  ggscatmat(columns = 2:7, color = "method") +
  scale_colour_brewer(palette = "Set1")

q5p2

```

The scatterplot matrix \@ref(fig:q5p2) examines the relationship between each grading criteria, and is differentiated by the processing method.

* The scatterplot matrix demonstrates the correlation of grading criteria are positive to various extent.

* The density plot for acidity located on 1st row & 1st column indicates the method "Pulped natural/honey" have relatively low density compared to other processing method.

* One thing to notify is that there are presence of outliers for "Washed/Wet" method in aroma grade (on 3rd column).

* A bunch of coffee beans processed with "Washed/Wet" method have relatively lower aftertaste grade.

Overall, we can observe that the "Washed/Wet" method have relatively more variations compared to other method, and the plot \@ref(fig:q5p2) also indicates the primary processing method are "Washed/Wet" and "Natural/Dry" across all coffee bean producers.And we can barely capture the appearance of other two methods.



# References

- The dataset was taken from (https://github.com/rfordatascience/tidytuesday/blob/master/data/2020/2020-07-07/readme.md)

- Further inferences were drawn into the data taking help from (https://database.coffeeinstitute.org/coffee/357789/grade)

- Cerda, R., Allinne, C., Gary, C., Tixier, P., Harvey, C. A., Krolczyk, L., ... & Avelino, J. (2017). Effects of shade, altitude and management on multiple ecosystem services in coffee agroecosystems. European Journal of Agronomy, 82, 308-319.

- The data is in: Ethiopia has the best coffee. (2020). Retrieved 27 August 2020, from https://towardsdatascience.com/the-data-speak-ethiopia-has-the-best-coffee-91f88ed37e84

- En.wikipedia.org. 2020. Coffee Bean. [online] Available at: <https://en.wikipedia.org/wiki/Coffee_bean> [Accessed 27 August 2020].
